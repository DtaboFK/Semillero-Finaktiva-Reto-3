<div class="container">
  <app-modal-registro
    class="hide"
    id="addForm"
    (propagar)="desplegar($event)"
  ></app-modal-registro>

  <div class="main" id="main">
    <div class="search">
      <div class="searchBox">
        <form autocomplete="off">
          <input
            type="text"
            name="seach"
            id="search"
            placeholder="Buscar cliente"
            [(ngModel)]="searchText"
          />
        </form>
        <p id="error" class="hide">Cliente no encontrado</p>
      </div>
      <!-- Add user -->
      <div class="addUser">
        <button (click)="desplegar('addUser')">
          <span class="material-symbols-outlined">person_add</span>
          Agregar Cliente
        </button>
      </div>
    </div>
    <!-- Users list -->
    <div class="table" id="lista">
      <h3>Clientes</h3>
      <table>
        <thead>
          <tr>
            <th *ngFor="let campo of columnas">{{ campo }}</th>
          </tr>
        </thead>
        <tbody>
          <td *ngIf="long == 0" colspan="5">No hay clientes registrados</td>
          <tr *ngFor="let user of lista | filter: searchText">
            <td>{{ user.idUsuario }}</td>
            <td>{{ user.nombre }}</td>
            <td>{{ user.apellido }}</td>
            <td>{{ user.documento }}</td>
            <td>
              <button (click)="buscar(user.documento)">
                <span class="material-symbols-outlined">visibility</span>
              </button>
              <button>
                <span class="material-symbols-outlined">edit</span>
              </button>
              <button>
                <span class="material-symbols-outlined"
                  >power_settings_new</span
                >
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="users" *ngIf="userLong > 0">
    <button (click)="desplegar('btnBack')">
      <span class="material-symbols-outlined">arrow_back</span>
      Volver
    </button>
    <div class="userInfo">
        <div class="resultGroup">
          <h3>Información del usuario</h3>
          <div class="group">
            <label>Nombre:</label>
            <input readonly [value]="userFound.nombre" />
          </div>
          <div class="group">
            <label>Apellidos:</label>
            <input readonly [value]="userFound.apellido" />
          </div>
          <div class="group">
            <label>Fecha de nacimiento:</label>
            <input readonly [value]="snipDate(userFound.fechaNacimiento)" />
          </div>
          <div class="group">
            <label>Tipo de documento:</label>
            <input readonly [value]="showDoc(userFound.idTipoDoc)" />
          </div>
          <div class="group">
            <label>Nro. Documento:</label>
            <input readonly [value]="userFound.documento" />
          </div>
          <div class="group">
            <label>Nro. Contacto:</label>
            <input readonly [value]="userFound.contacto" />
          </div>
          <div class="group">
            <label>Correo electrónico:</label>
            <input readonly [value]="userFound.correo" />
          </div>
          <div class="group">
            <label>Dirección:</label>
            <input readonly [value]="userFound.direccion" />
          </div>
        </div>
    </div>
  </div>
</div>
